import codecs
import unittest

import zhi


class ZhiTest(unittest.TestCase):

    def setUp(self):
        with codecs.open('test_data/zhi_news.txt', encoding='utf-8') as f:
            self.raw_passage = f.read()

    def test_word_segmentation(self):
        segmented = [u'\u7a00\u571f',
                     u'\u662f',
                     u'\u4e16\u7eaa',
                     u'\u91cd\u8981',
                     u'\u7684',
                     u'\u6218\u7565',
                     u'\u8d44\u6e90',
                     u'\u4e2d\u56fd',
                     u'\u7a00\u571f',
                     u'\u8d44\u6e90',
                     u'\u63a2\u660e\u50a8\u91cf',
                     u'\u5360',
                     u'\u5168\u7403',
                     u'\u7684',
                     u'\u4e2d\u56fd',
                     u'\u662f',
                     u'\u7a00\u571f',
                     u'\u4ea7\u4e1a',
                     u'\u5927\u56fd',
                     u'\u7136\u800c',
                     u'\u5f53\u524d',
                     u'\u7684',
                     u'\u5168\u7403\u6027',
                     u'\u7a00\u571f',
                     u'\u4e89\u593a\u6218',
                     u'\u5374',
                     u'\u4f7f',
                     u'\u4e2d\u56fd',
                     u'\u9762\u4e34',
                     u'\u4e24\u96be',
                     u'\u7684',
                     u'\u5c40\u9762',
                     u'\u4e00\u65b9\u9762',
                     u'\u8981',
                     u'\u4fdd\u62a4\u73af\u5883',
                     u'\u63d0\u9ad8',
                     u'\u4ef7\u683c',
                     u'\u9650\u5236',
                     u'\u51fa\u53e3',
                     u'\u53e6\u4e00\u65b9\u9762',
                     u'\u9ad8',
                     u'\u4ef7\u683c',
                     u'\u5c06',
                     u'\u4fc3\u4f7f',
                     u'\u5404\u56fd',
                     u'\u91cd\u65b0',
                     u'\u5f00\u53d1',
                     u'\u7a00\u571f',
                     u'\u8d44\u6e90',
                     u'\u4e2d\u56fd',
                     u'\u7a00\u571f',
                     u'\u8bba\u575b',
                     u'\u5c06',
                     u'\u4e8e',
                     u'\u5e74\u6708\u65e5',
                     u'\u81f3',
                     u'\u65e5',
                     u'\u5728',
                     u'\u53a6\u95e8',
                     u'\u53ec\u5f00',
                     u'\u7a00\u571f',
                     u'\u4ea7\u4e1a',
                     u'\u6743\u5a01\u4eba\u58eb',
                     u'\u4f1a\u4e3a',
                     u'\u4e2d\u56fd',
                     u'\u7a00\u571f',
                     u'\u4e1a',
                     u'\u9762\u4e34',
                     u'\u7684',
                     u'\u95ee\u9898',
                     u'\u7834\u5c40',
                     u'\u4e8b\u5b9e\u4e0a',
                     u'\u5916\u5a92',
                     u'\u6301\u7eed',
                     u'\u5728',
                     u'\u5173\u6ce8',
                     u'\u4e2d\u56fd',
                     u'\u7684',
                     u'\u7a00\u571f',
                     u'\u5916\u4ea4',
                     u'\u65e5',
                     u'\u82f1\u56fd',
                     u'\u91d1\u878d\u65f6\u62a5',
                     u'\u520a\u6587',
                     u'\u79f0',
                     u'\u4e2d\u56fd',
                     u'\u96be',
                     u'\u518d',
                     u'\u4e3b\u5bfc',
                     u'\u5168\u7403',
                     u'\u7a00\u571f',
                     u'\u5e02\u573a',
                     u'\u4ee5\u4e0b',
                     u'\u4e3a',
                     u'\u6587\u7ae0',
                     u'\u8282\u9009',
                     u'\u7f8e\u56fd\u56fd\u9632\u90e8',
                     u'\u7684',
                     u'\u4e00\u540d',
                     u'\u524d',
                     u'\u987e\u95ee',
                     u'\u8868\u793a',
                     u'\u4e2d\u56fd',
                     u'\u4e0d\u592a\u53ef\u80fd',
                     u'\u4fdd\u6301',
                     u'\u5bf9',
                     u'\u5168\u7403',
                     u'\u7a00\u571f',
                     u'\u5e02\u573a',
                     u'\u7684',
                     u'\u63a7\u5236\u6743',
                     u'\u56e0\u4e3a',
                     u'\u7528\u6237',
                     u'\u63d0\u9ad8',
                     u'\u4e86',
                     u'\u7a00\u571f',
                     u'\u5229\u7528\u6548\u7387',
                     u'\u5e76',
                     u'\u627e\u5230',
                     u'\u4e86',
                     u'\u4e00\u4e9b',
                     u'\u66ff\u4ee3',
                     u'\u4f9b\u5e94',
                     u'\u6765\u6e90',
                     u'\u5e74',
                     u'\u4e2d\u56fd',
                     u'\u52a0\u5165',
                     u'\u8d38\u6613\u6218',
                     u'\u51fa\u53f0',
                     u'\u4e86',
                     u'\u51fa\u53e3',
                     u'\u9650\u5236',
                     u'\u63aa\u65bd',
                     u'\u5e76',
                     u'\u9650\u5236',
                     u'\u7a00\u571f',
                     u'\u4f9b\u5e94',
                     u'\u540e',
                     u'\u7a00\u571f',
                     u'\u4ef7\u683c',
                     u'\u51fa\u73b0',
                     u'\u98d9\u5347',
                     u'\u7a00\u571f\u77ff',
                     u'\u5546',
                     u'\u7684',
                     u'\u80a1\u4ef7',
                     u'\u4e5f',
                     u'\u5927\u5e45',
                     u'\u4e0a\u6da8',
                     u'\u9567\u955d',
                     u'\u7b49',
                     u'\u7a00\u571f',
                     u'\u5728',
                     u'\u5f88\u591a',
                     u'\u5148\u8fdb',
                     u'\u6280\u672f',
                     u'\u4e2d',
                     u'\u90fd',
                     u'\u4f1a',
                     u'\u5e94\u7528',
                     u'\u5230',
                     u'\u5305\u62ec',
                     u'\u5de1\u822a\u5bfc\u5f39',
                     u'\u7b49',
                     u'\u6b66\u5668',
                     u'\u7cfb\u7edf',
                     u'\u800c',
                     u'\u5f53\u65f6',
                     u'\u4e2d\u56fd',
                     u'\u63a7\u5236',
                     u'\u7740',
                     u'\u5168\u7403',
                     u'\u7ea6',
                     u'\u7684',
                     u'\u7a00\u571f',
                     u'\u4f9b\u5e94',
                     u'\u7136\u800c',
                     u'\u6b64\u540e',
                     u'\u7a00\u571f',
                     u'\u4ef7\u683c',
                     u'\u5927\u5e45',
                     u'\u4e0b\u8dcc',
                     u'\u7f8e\u56fd',
                     u'\u548c',
                     u'\u6fb3\u5927\u5229\u4e9a',
                     u'\u7b49',
                     u'\u751f\u4ea7\u5546',
                     u'\u7684',
                     u'\u80a1\u4ef7',
                     u'\u4e5f',
                     u'\u968f\u4e4b',
                     u'\u4e0b\u6ed1',
                     u'\u5fb7\u514b\u8428\u65af',
                     u'\u5927\u5b66',
                     u'\u7ecf\u6d4e\u5b66\u5bb6',
                     u'\u5c24\u91d1',
                     u'\u970d\u5c14\u8328',
                     u'\u8868\u793a',
                     u'\u4ef7\u683c',
                     u'\u9ad8\u4f01',
                     u'\u9f13\u52b1',
                     u'\u4e86',
                     u'\u975e',
                     u'\u4e2d\u56fd',
                     u'\u4f9b\u5e94\u5546',
                     u'\u7684',
                     u'\u6295\u8d44',
                     u'\u970d\u5c14\u8328',
                     u'\u66fe',
                     u'\u5728',
                     u'\u5e74',
                     u'\u81f3',
                     u'\u5e74\u95f4',
                     u'\u4e3a',
                     u'\u7f8e\u56fd\u56fd\u9632\u90e8',
                     u'\u7814\u7a76',
                     u'\u7a00\u571f',
                     u'\u95ee\u9898',
                     u'\u6062\u590d',
                     u'\u4e86',
                     u'\u52a0\u5dde',
                     u'\u67d0',
                     u'\u7a00\u571f\u77ff',
                     u'\u573a',
                     u'\u7684',
                     u'\u751f\u4ea7',
                     u'\u800c',
                     u'\u5728',
                     u'\u65e5\u672c\u653f\u5e9c',
                     u'\u7684',
                     u'\u652f\u6301',
                     u'\u4e0b',
                     u'\u9a6c\u6765\u897f\u4e9a',
                     u'\u5f00\u8bbe',
                     u'\u4e86',
                     u'\u4e00\u5bb6',
                     u'\u52a0\u5de5\u5382',
                     u'\u6765\u81ea',
                     u'\u4e2d\u56fd',
                     u'\u4ee5\u5916',
                     u'\u5730\u533a',
                     u'\u7684',
                     u'\u4f9b\u5e94',
                     u'\u4ee5',
                     u'\u9567',
                     u'\u9568',
                     u'\u7b49',
                     u'\u8f7b',
                     u'\u7a00\u571f',
                     u'\u4e3a\u4e3b',
                     u'\u955d',
                     u'\u94d5',
                     u'\u7b49',
                     u'\u91cd',
                     u'\u7a00\u571f',
                     u'\u8f83',
                     u'\u5c11',
                     u'\u7136\u800c',
                     u'\u5bf9\u4e8e',
                     u'\u8fd9\u4e9b',
                     u'\u66f4\u4e3a',
                     u'\u7a00\u6709',
                     u'\u7684',
                     u'\u539f\u6599',
                     u'\u4e2d\u56fd',
                     u'\u7684',
                     u'\u51fa\u53e3',
                     u'\u9650\u5236',
                     u'\u5e76',
                     u'\u4e0d',
                     u'\u5b8c\u5168',
                     u'\u8d77\u6548',
                     u'\u5c3d\u7ba1',
                     u'\u5b58\u5728',
                     u'\u5b98\u65b9',
                     u'\u9650\u5236',
                     u'\u4f46',
                     u'\u4e00\u4e9b',
                     u'\u5c0f\u578b',
                     u'\u751f\u4ea7\u5546',
                     u'\u7ee7\u7eed',
                     u'\u5c06',
                     u'\u8fd9\u4e9b',
                     u'\u6750\u6599',
                     u'\u51fa\u552e',
                     u'\u7ed9',
                     u'\u5176\u4ed6',
                     u'\u56fd\u5bb6',
                     u'\u4e2d\u56fd',
                     u'\u4ee5\u5916',
                     u'\u5730\u533a',
                     u'\u7684',
                     u'\u52a0\u5de5',
                     u'\u4ea7\u80fd',
                     u'\u4e5f',
                     u'\u6709\u6240',
                     u'\u6269\u5927',
                     u'\u6cd5\u56fd',
                     u'\u7684',
                     u'\u7f57\u5730\u4e9a',
                     u'\u80fd\u591f',
                     u'\u4ece',
                     u'\u548c',
                     u'\u4f9b\u5e94',
                     u'\u7684',
                     u'\u77ff\u77f3',
                     u'\u4e2d',
                     u'\u63d0\u70bc\u51fa',
                     u'\u91cd',
                     u'\u7a00\u571f',
                     u'\u5982\u679c',
                     u'\u7ecf\u6d4e\u6548\u76ca',
                     u'\u66f4\u597d',
                     u'\u7684\u8bdd',
                     u'\u4e2d\u56fd',
                     u'\u4ee5\u5916',
                     u'\u5730\u533a',
                     u'\u7684',
                     u'\u91cd',
                     u'\u7a00\u571f',
                     u'\u4ea7\u91cf',
                     u'\u53ef\u80fd',
                     u'\u4f1a',
                     u'\u589e\u52a0',
                     u'\u7a00\u571f',
                     u'\u7528\u6237',
                     u'\u8fd8',
                     u'\u627e\u5230',
                     u'\u4e86',
                     u'\u51cf\u5c11',
                     u'\u9700\u6c42',
                     u'\u7684',
                     u'\u65b9\u6cd5',
                     u'\u4f8b\u5982',
                     u'\u955d',
                     u'\u88ab',
                     u'\u7528\u4f5c',
                     u'\u5148\u8fdb',
                     u'\u78c1\u94c1',
                     u'\u7684',
                     u'\u4e00\u79cd',
                     u'\u6dfb\u52a0\u5242',
                     u'\u751f\u4ea7',
                     u'\u7535\u52a8\u6c7d\u8f66',
                     u'\u9700\u8981',
                     u'\u76f8\u5bf9',
                     u'\u5927\u91cf',
                     u'\u7684',
                     u'\u955d',
                     u'\u4f46',
                     u'\u5728',
                     u'\u5176\u4ed6',
                     u'\u7528\u9014',
                     u'\u4e0a\u955d',
                     u'\u7684',
                     u'\u4f7f\u7528\u91cf',
                     u'\u53ef\u4ee5',
                     u'\u5927\u5927\u51cf\u5c11',
                     u'\u970d\u5c14\u8328',
                     u'\u8868\u793a',
                     u'\u65e5\u7acb',
                     u'\u8fd8\u6709',
                     u'\u4e00\u5bb6',
                     u'\u7531',
                     u'\u4e09\u83f1',
                     u'\u5927\u540c',
                     u'\u94a2\u94c1',
                     u'\u548c',
                     u'\u4e09\u65b9',
                     u'\u5171\u540c',
                     u'\u7ec4\u5efa',
                     u'\u7684',
                     u'\u5408\u8d44',
                     u'\u516c\u53f8',
                     u'\u76ee\u524d',
                     u'\u90fd',
                     u'\u5728',
                     u'\u5efa\u9020',
                     u'\u751f\u4ea7',
                     u'\u4f4e\u955d',
                     u'\u78c1\u94c1',
                     u'\u7684',
                     u'\u5de5\u5382',
                     u'\u5546\u4e1a\u7528\u9014',
                     u'\u7684',
                     u'\u51cf\u5c11',
                     u'\u53ef\u4ee5',
                     u'\u91ca\u653e',
                     u'\u66f4',
                     u'\u591a',
                     u'\u7528\u4e8e',
                     u'\u5173\u952e',
                     u'\u6218\u7565',
                     u'\u7528\u9014',
                     u'\u7684',
                     u'\u4f9b\u5e94',
                     u'\u7a00\u571f',
                     u'\u5728',
                     u'\u519b\u4e8b',
                     u'\u8bbe\u5907',
                     u'\u4e2d',
                     u'\u7684',
                     u'\u4f7f\u7528',
                     u'\u6bd4\u4f8b',
                     u'\u56e0',
                     u'\u5143\u7d20',
                     u'\u4e0d\u540c',
                     u'\u800c',
                     u'\u4e0d\u540c',
                     u'\u4f46',
                     u'\u5728',
                     u'\u7f8e\u56fd',
                     u'\u5176',
                     u'\u4f7f\u7528',
                     u'\u6bd4\u4f8b',
                     u'\u4e00\u822c',
                     u'\u4e0d\u5230',
                     u'\u5e02\u573a',
                     u'\u7684',
                     u'\u970d\u5c14\u8328',
                     u'\u8868\u793a',
                     u'\u8fc7\u53bb',
                     u'\u51e0\u5e74',
                     u'\u7684',
                     u'\u6559\u8bad',
                     u'\u544a\u8bc9',
                     u'\u6211\u4eec',
                     u'\u5ba2\u6237',
                     u'\u65e0\u9700',
                     u'\u6050\u614c',
                     u'\u4ed6',
                     u'\u8868\u793a',
                     u'\u4e8b\u5b9e\u8bc1\u660e',
                     u'\u653f\u5e9c',
                     u'\u62c5\u5fc3',
                     u'\u7684',
                     u'\u5f88\u591a',
                     u'\u4e8b\u60c5',
                     u'\u4f1a',
                     u'\u88ab',
                     u'\u884c\u4e1a',
                     u'\u89c6\u4e3a',
                     u'\u8d5a\u94b1',
                     u'\u673a\u9047',
                     u'\u968f\u7740',
                     u'\u5e02\u573a',
                     u'\u5bf9',
                     u'\u5168\u7403',
                     u'\u4f9b\u5e94',
                     u'\u7684',
                     u'\u62c5\u5fe7',
                     u'\u6d88\u9000',
                     u'\u7a00\u571f',
                     u'\u4ef7\u683c',
                     u'\u5927\u5e45',
                     u'\u4e0b\u8dcc',
                     u'\u4f8b\u5982',
                     u'\u7684',
                     u'\u6570\u636e',
                     u'\u663e\u793a',
                     u'\u6c27\u5316',
                     u'\u9567',
                     u'\u7684',
                     u'\u6bcf\u516c\u65a4',
                     u'\u4ef7\u683c',
                     u'\u5df2',
                     u'\u4ece',
                     u'\u5e74',
                     u'\u7684',
                     u'\u7f8e\u5143',
                     u'\u964d\u81f3',
                     u'\u5e74',
                     u'\u7b2c\u4e8c\u5b63\u5ea6',
                     u'\u7684',
                     u'\u7f8e\u5143',
                     u'\u4e3a\u6b64',
                     u'\u5728',
                     u'\u5e74',
                     u'\u4e8f\u635f',
                     u'\u4ebf\u7f8e\u5143',
                     u'\u5e74',
                     u'\u4e8f\u635f',
                     u'\u4ebf\u7f8e\u5143',
                     u'\u540c\u6837',
                     u'\u72b6\u51b5\u4e0d\u4f73',
                     u'\u7136\u800c',
                     u'\u679c',
                     u'\u4e2d\u56fd',
                     u'\u518d\u6b21',
                     u'\u6536\u7d27',
                     u'\u7a00\u571f',
                     u'\u51fa\u53e3',
                     u'\u8fd9\u4e9b',
                     u'\u4f01\u4e1a',
                     u'\u4e5f',
                     u'\u80fd\u591f',
                     u'\u6539\u5584',
                     u'\u76c8\u5229',
                     u'\n']
        output_generator = zhi.segment_words(self.raw_passage)
        output = list(output_generator)
        self.assertEquals(segmented, output)
